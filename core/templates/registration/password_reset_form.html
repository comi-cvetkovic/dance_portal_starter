{% extends "core/base.html" %}
{% load i18n %}
{% block title %}{% trans "Forgot Password | Dance Portal" %}{% endblock %}

{% block extra_head %}
<style>
  :root { --coral:#d76f54; --ink:#2b2b2b; }

  .auth-wrap{
    max-width: 520px;
    margin: 2.25rem auto 2.75rem;
  }
  .auth-card{
    border: 1px solid #f0e3df;
    border-radius: 16px;
    box-shadow: 0 14px 32px rgba(0,0,0,.08);
    background: #fff;
    overflow: hidden;
  }
  .auth-head{
    background: linear-gradient(180deg, #fff7f4 0%, #ffece7 100%);
    border-bottom: 1px solid #f1ded9;
    padding: 1.1rem 1.25rem;
  }
  .auth-head h2{
    font-weight: 800; font-size: 1.55rem; margin:0; color: var(--ink);
  }
  .auth-sub{
    color: #6b6b6b; margin: .3rem 0 0 0; font-size: .98rem;
  }

  .form-icon{ width:44px; display:flex; align-items:center; justify-content:center; color:#888; }
  .form-control{ padding:.65rem .9rem; border-radius:10px; }
  .input-group>.form-control{ border-top-left-radius:0; border-bottom-left-radius:0; }

  .btn-coral{
    background-color: var(--coral);
    border-color: var(--coral);
    color:#fff; font-weight:600; border-radius:999px;
    padding:.65rem 1.25rem;
  }
  .btn-coral:hover{ background:#c45f45; border-color:#c45f45; color:#fff; }

  .auth-links a{ color: var(--coral); text-decoration:none; }
  .auth-links a:hover{ text-decoration:underline; }
</style>
{% endblock %}

{% block content %}
<div class="auth-wrap">

  <div class="auth-card">
    <div class="auth-head">
      <h2>{% trans "Forgot Password" %}</h2>
      <p class="auth-sub">{% trans "Enter your email and weâ€™ll send you a reset link." %}</p>
    </div>

    <div class="p-4 p-md-4">

      {# Django messages (optional success/info) #}
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags|default:'info' }} mb-3">{{ message }}</div>
        {% endfor %}
      {% endif %}

      {# Non-field errors #}
      {% if form.non_field_errors %}
        <div class="alert alert-danger mb-3">
          {% for error in form.non_field_errors %}
            {{ error }}{% if not forloop.last %}<br>{% endif %}
          {% endfor %}
        </div>
      {% endif %}

      <form method="post" novalidate>
        {% csrf_token %}

        <div class="mb-3">
          <label for="id_email" class="form-label fw-semibold">{% trans "Email address" %}</label>
          <div class="input-group">
            <span class="input-group-text form-icon"><i class="bi bi-envelope"></i></span>
            {# Use a native input for consistent styling; PasswordResetForm accepts 'email' #}
            <input type="email"
                   name="email"
                   id="id_email"
                   class="form-control"
                   placeholder="{% trans 'name@example.com' %}"
                   required
                   autocomplete="email"
                   value="{{ form.email.value|default:'' }}">
          </div>
          {% if form.email.errors %}
            <div class="text-danger small mt-1">{{ form.email.errors.0 }}</div>
          {% endif %}
        </div>

        <div class="d-grid">
          <button type="submit" class="btn btn-coral">
            <i class="bi bi-send me-1"></i>{% trans "Send Reset Link" %}
          </button>
        </div>
      </form>

      <div class="text-center auth-links mt-3">
        <a href="{% url 'login' %}">
          <i class="bi bi-arrow-left me-1"></i>{% trans "Back to Login" %}
        </a>
      </div>

    </div>
  </div>
</div>
{% endblock %}


