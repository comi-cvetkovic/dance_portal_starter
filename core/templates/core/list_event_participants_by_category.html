{% extends 'core/base.html' %}
{% load i18n %}

{% block title %}{{ event.name }} – View by Categories{% endblock %}

{% block content %}
<h2>{{ event.name }} – Registered Participants by Categories</h2>

<table class="table-default">
    <thead>
        <tr>
            <th>No.</th>
            <th>Style</th>
            <th>Category</th>
            <th>Age</th>
            <th>Difficulty</th>
            <th>Competitors</th>
        </tr>
    </thead>
    <tbody>
        {% regroup categories by difficulty as difficulty_list %}
        {% for group in difficulty_list %}
            <!-- Subheading Row -->
            <tr style="background-color:#ddd; font-weight:bold;">
                <td colspan="6" style="text-align:center;">
                    {{ group.grouper }} LEVEL
                </td>
            </tr>

            {% for c in group.list %}
            <tr>
                <td>{{ forloop.parentloop.counter }}.{{ forloop.counter }}</td>
                <td>{{ c.style__name }}</td>
                <td>{{ c.group_type }}</td>
                <td>{{ c.age_group }}</td>
                <td>{{ c.difficulty }}</td>
                <td>{{ c.competitors }}</td>
            </tr>
            {% endfor %}
        {% endfor %}
    </tbody>
</table>

<a href="{% url 'event_list' %}" class="btn-default">Back</a>
{% endblock %}
