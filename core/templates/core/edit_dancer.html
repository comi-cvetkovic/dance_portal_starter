{% extends 'core/base.html' %}
{% load i18n %}
{% block title %}{% trans "Edit Dancer" %} | Dance Portal{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">
    {% trans "Edit Dancer" %}: {{ dancer.first_name }} {{ dancer.last_name }}
  </h2>
  <a href="javascript:history.back()" class="btn btn-coral-outline">
    {% trans "Back" %}
  </a>
</div>

<div class="dp-card">
  <div class="card-body">
    {% if form.non_field_errors %}
      <div class="alert alert-danger mb-3">{{ form.non_field_errors }}</div>
    {% endif %}

    <form method="post" class="edit-dancer-form" novalidate>
      {% csrf_token %}

      {% for field in form %}
        <div class="mb-3">
          <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
          {{ field }}
          {% if field.help_text %}
            <div class="form-text">{{ field.help_text|safe }}</div>
          {% endif %}
          {% if field.errors %}
            <div class="text-danger small">{{ field.errors|join:", " }}</div>
          {% endif %}
        </div>
      {% endfor %}

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-coral">
          {% trans "Save Changes" %}
        </button>
        <a href="javascript:history.back()" class="btn btn-outline-secondary">
          {% trans "Cancel" %}
        </a>
      </div>
    </form>
  </div>
</div>

{% endblock %}

{% block extra_head %}
<style>
  /* Card shell */
  .dp-card{
    background:#fff;
    border:1px solid #eee;
    border-radius:14px;
    box-shadow:0 2px 10px rgba(0,0,0,.05);
    overflow:hidden;
  }
  .dp-card .card-body{
    padding:1.25rem 1.25rem;
  }

  /* Ensure comfy padding on inputs even without Bootstrap classes */
  .edit-dancer-form input[type="text"],
  .edit-dancer-form input[type="email"],
  .edit-dancer-form input[type="tel"],
  .edit-dancer-form input[type="date"],
  .edit-dancer-form input[type="number"],
  .edit-dancer-form select,
  .edit-dancer-form textarea{
    display:block;
    width:100%;
    max-width: 520px;            /* keep a nice readable width */
    height:44px;
    padding:.6rem .8rem;         /* <-- fixes “text too close to edge” */
    border:1px solid #e1d5d1;
    border-radius:10px;
    color:#2b2b2b;
    background:#fff;
    box-shadow: inset 0 1px 2px rgba(0,0,0,.04);
    box-sizing:border-box;
  }
  .edit-dancer-form textarea{
    height:auto; min-height:100px;
  }
  .edit-dancer-form input:focus,
  .edit-dancer-form select:focus,
  .edit-dancer-form textarea:focus{
    outline:none;
    border-color:#d76f54;
    box-shadow:0 0 0 3px rgba(215,111,84,.15);
  }

  /* Labels */
  .edit-dancer-form .form-label{
    font-weight:600;
    margin-bottom:.35rem;
  }

  @media (max-width: 576px){
    .dp-card .card-body{ padding:1rem; }
    .edit-dancer-form input,
    .edit-dancer-form select,
    .edit-dancer-form textarea{
      max-width:100%;
    }
  }
</style>
{% endblock %}
