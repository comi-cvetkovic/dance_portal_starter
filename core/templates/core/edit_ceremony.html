{% extends 'core/base.html' %}
{% load i18n %}
{% block title %}{% trans "Edit Ceremony" %} ‚Äì {{ event.name }}{% endblock %}

{% block content %}

<!-- Header -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">{% trans "Edit Ceremony" %} ‚Äî {{ event.name }}</h2>
  <a href="{% url 'add_ceremony' event.id %}" class="btn btn-coral-outline">
    {% trans "Back to Ceremonies" %}
  </a>
</div>

<div class="dp-card">
  <div class="card-header">
    <h3 class="mb-0">üìù {% trans "Ceremony Details" %}</h3>
  </div>

  <div class="card-body">
    {% if form.non_field_errors %}
      <div class="alert alert-danger mb-3">{{ form.non_field_errors }}</div>
    {% endif %}

    <form method="post" class="ceremony-form" novalidate>
      {% csrf_token %}

      <div class="mb-3">
        <label for="id_title" class="form-label fw-semibold">{% trans "Heading" %}</label>
        {{ form.title }}
        {% if form.title.errors %}
          <div class="text-danger small mt-1">{{ form.title.errors|join:", " }}</div>
        {% endif %}
      </div>

      <div class="mb-3">
        <label for="id_duration_minutes" class="form-label fw-semibold">{% trans "Duration (minutes)" %}</label>
        {{ form.duration_minutes }}
        {% if form.duration_minutes.errors %}
          <div class="text-danger small mt-1">{{ form.duration_minutes.errors|join:", " }}</div>
        {% endif %}
      </div>

      <div class="mb-3">
        <label for="id_age_group" class="form-label fw-semibold">{% trans "Age Group (optional)" %}</label>
        {{ form.age_group }}
        {% if form.age_group.errors %}
          <div class="text-danger small mt-1">{{ form.age_group.errors|join:", " }}</div>
        {% endif %}
      </div>

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-coral">
          {% trans "Save Changes" %}
        </button>
        <a href="{% url 'add_ceremony' event.id %}" class="btn btn-outline-secondary">
          {% trans "Cancel" %}
        </a>
      </div>
    </form>
  </div>
</div>

{% endblock %}

{% block extra_head %}
<style>
  /* Card shell */
  .dp-card{
    background:#fff;
    border:1px solid #eee;
    border-radius:14px;
    box-shadow:0 2px 10px rgba(0,0,0,.05);
    overflow:hidden;
  }
  .dp-card .card-header{ background:#fafafa; border-bottom:1px solid #eee; padding:.9rem 1.25rem; }
  .dp-card .card-body{ padding:1.25rem 1.5rem; }

  /* Comfy inputs even if widgets don't include .form-control */
  .ceremony-form input[type="text"],
  .ceremony-form input[type="number"],
  .ceremony-form select{
    display:block;
    width:100%;
    max-width:520px;
    height:44px;
    padding:.65rem .95rem;             /* fixes ‚Äútext too close to edge‚Äù */
    border:1px solid #e1d5d1;
    border-radius:10px;
    background:#fff;
    color:#2b2b2b;
    box-shadow: inset 0 1px 2px rgba(0,0,0,.04);
    box-sizing:border-box;
  }
  .ceremony-form input:focus,
  .ceremony-form select:focus{
    outline:none;
    border-color:#d76f54;
    box-shadow:0 0 0 3px rgba(215,111,84,.15);
  }
</style>
{% endblock %}

